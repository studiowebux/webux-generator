// ███████╗ ██████╗  ██████╗██╗  ██╗███████╗████████╗
// ██╔════╝██╔═══██╗██╔════╝██║ ██╔╝██╔════╝╚══██╔══╝
// ███████╗██║   ██║██║     █████╔╝ █████╗     ██║
// ╚════██║██║   ██║██║     ██╔═██╗ ██╔══╝     ██║
// ███████║╚██████╔╝╚██████╗██║  ██╗███████╗   ██║
// ╚══════╝ ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝   ╚═╝

/**
 * File: index.js
 * Author: Tommy Gingras
 * Date: 2019-05-25
 * License: All rights reserved Studio Webux S.E.N.C 2015-Present
 */

'use strict';

const io = require('./config');

io.on('connection', (client) => {
  console.log('New Connection ID = ' + client.id);

  // put the listeners below
  client.on('getSomething', () => {
    if (!client.auth) {
      client.emit('unauthorized', {message: 'Unauthorized'});
      return;
    }
    console.log('getSomething called ');
    client.emit('something', []);
  });
});
